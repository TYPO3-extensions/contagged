# include class tx_contagged as library 
includeLibs.tx_contagged = EXT:contagged/class.tx_contagged.php

# invoke the parser
lib.stdheader.stdWrap.postUserFunc = tx_contagged->main
tt_content {
	text.20.postUserFunc = tx_contagged->main
	bullets.20.postUserFunc = tx_contagged->main
	table.20.stdWrap.postUserFunc = tx_contagged->main
	uploads.20.itemRendering.20.2.postUserFunc = tx_contagged->main
	image.20.caption.1.postUserFunc = tx_contagged->main
	html.postUserFunc = tx_contagged->main
}

plugin.tx_contagged {
	templateFile = {$contagged.templateFile}
	linkToListPage = {$contagged.linkToListPage}
	listPages = {$contagged.listPages}
	storagePids = {$contagged.storagePids}
	includeRootPages = {$contagged.includeRootPages}
	excludeRootPages = {$contagged.excludeRootPages}
	includePages = {$contagged.includePages}
	excludePages = {$contagged.excludePages}
	excludeTags = {$contagged.excludeTags}
	autoExcludeTags = {$contagged.autoExcludeTags}
	checkPreAndPostMatches = {$contagged.checkPreAndPostMatches}
	respectCase = {$contagged.respectCase}
	addTitleAttribute = {$contagged.addTitleAttribute}
	addLangAttribute = {$contagged.addLangAttribute}
	addCssClassAttribute = {$contagged.addCssClassAttribute}
	replaceTerm = {$contagged.replaceTerm}
	maxRecurrences = {$contagged.maxRecurrences}
	updateKeywords = {$contagged.updateKeywords}
	labelWrap1 = {$contagged.labelWrap1}
	labelWrap2 = {$contagged.labelWrap2}
	modifier = {$contagged.modifier}
	sortField = {$contagged.sortField}
	fieldsToMap = {$contagged.fieldsToMap}
	fieldsToParse = {$contagged.fieldsToParse}
	addBackLink = {$contagged.addBackLink}
	addBackLinkDescription = {$contagged.addBackLinkDescription}
			
	images {
		stdWrap.wrap = <div class="tx-contagged-images">|</div>
		caption.stdWrap.wrap = <div class="tx-contagged-imagecaption"> | </div>
	    caption.stdWrap.trim = 1
		single.image {
			file.maxW = {$contagged.singleMaxW}
			file.maxH = {$contagged.singleMaxH}
			stdWrap.wrap = <div class="tx-contagged-singleimage">|</div>
			imageLinkWrap = 1
			imageLinkWrap {
				enable = 1
				bodyTag = <body bgColor="#ffffff">
				wrap = <a href="javascript:close();"> | </a>
				width = 500m
				height = 500
				JSwindow = 1
				JSwindow.newWindow = 1
				JSwindow.expand = 17,20
			}
		}
	}
	
	related {
		stdWrap.wrap = <div class="tx-contagged-related">|</div>
		single.stdWrap.wrap = <div>|</div>
	}
	
	index {
		enable = {$contagged.enableIndex}
		showOnlyMatchedIndexChars = {$contagged.showOnlyMatchedIndexChars}
		autoAddIndexChars = {$contagged.autoAddIndexChars}
	}
	
	pagebrowser {
		enable = {$contagged.enablePageBrowser}
		results_at_a_time = {$contagged.results_at_a_time}
		maxPages = {$contagged.maxPages}
		dontLinkActivePage = {$contagged.dontLinkActivePage}
		pagefloat = {$contagged.pagefloat}
		showFirstLast = {$contagged.showFirstLast}
		alwaysPrev = {$contagged.alwaysPrev}
		showResultCount = {$contagged.showResultCount}
		showRange = {$contagged.showRange}
		tableParams = {$contagged.tableParams}
		pointerName = {$contagged.pointerName}
		enableHtmlspecialchars = {$contagged.enableHtmlspecialchars}
		wraps {
			browseBoxWrap = <div class="browseBoxWrap">|</div>
			showResultsWrap = <div class="showResultsWrap">|</div>
			browseLinksWrap = <div class="browseLinksWrap">|</div>
			showResultsNumbersWrap = <span class="showResultsNumbersWrap">|</span>
			disabledLinkWrap = <span class="disabledLinkWrap">|</span>
			inactiveLinkWrap = <span class="inactiveLinkWrap">|</span>
			activeLinkWrap = <span class="activeLinkWrap">|</span>
		}
	}
	
	searchbox {
		enable = {$contagged.enableSearchBox}
		fieldsToSearch = {$contagged.fieldsToSearch}
	}
		
	types {

		definition {
			label = Definition
			label.de = Definition
			tag = dfn
		}

		acronym {
			label = Acronym
			label.de = Kurzwort aus Anfangsbuchstaben (Beispiel: NATO)
			tag = acronym
		}

		abbrevation {
			label = Abbrevation
			label.de = Abk√ºrzung (Beispiel: u.s.w.)			
			tag = abbr
		}
				
	}

	dataSources {
		
		default {
			sourceName = tx_contagged_terms
			hasSysLanguageUid = 1
			storagePids = 
			fieldsToEdit = term_main,term_alt,term_type,term_lang,term_replace,desc_short,desc_long,link,exclude
			mapping {
				uid.field = uid
				pid.field = pid
				term_main.field = term_main
				term_alt.field = term_alt
				term_type.field = term_type
				term_replace.field = term_replace
				term_lang.field = term_lang
				desc_short.field = desc_short
				desc_long.field = desc_long
				# desc_long.stdWrap.parseFunc < lib.parseFunc_RTE
				image.field = image
				imagecaption.field = imagecaption
				imagealt.field = imagealt
				imagetitle.field = imagetitle
				related.field = related
				link.field = link
				exclude.field = exclude
			}
		}
	}
}